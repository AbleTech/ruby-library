

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800' rel='stylesheet' type='text/css'>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <title>Static Lists &mdash; Urban Airship Python Library 0.7.3 documentation</title>
  

  
  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  
    <link rel="top" title="Urban Airship Python Library 0.7.3 documentation" href="index.html"/>
        <link rel="next" title="Exceptions" href="exceptions.html"/>
        <link rel="prev" title="Named User" href="named_user.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="detail" role="document">
  <header class="header fixed">
  <h1 class="logo">
    <a href="index.html" title="Urban Airship">Urban Airship</a>
    <!--<a href="index.html" title="Urban Airship">Urban Airship</a>-->
  </h1>
  <a href="#" id="menu-toggle" class="icon-list"></a>
  <a href="#" id="search-toggle" class="icon-search"></a>
  <div class="main-nav-wrap" id="main-nav-wrap">
    <div class="main-nav-inner">
      <nav class="primary">
        <ul class="main-menu">
          <li>
            <a href="#">Platforms</a>
            <ul class="submenu">
              <li><a href="platform/ios.html"><span>iOS</span></a></li>
              <li><a href="platform/android.html"><span>Android</span></a></li>
              <li><a href="platform/blackberry.html"><span>BlackBerry</span></a></li>
              <li><a href="platform/windows.html"><span>Windows</span></a></li>
              <li><a href="platform/phonegap.html"><span>PhoneGap</span></a></li>
            </ul>
          </li>
          <li>
            <a href="#">APIs</a>
            <ul class="submenu">
              <li><a href="integration.html"><span>Integration</span></a></li>
              <li><a href="api/overview.html"><span>API Overview</span></a></li>
              <li><a href="api/ua.html"><span>API Reference</span></a></li>
            </ul>
          </li>
          <li>
             <a href="#">User Guide</a>
             <ul class="submenu">
               <li><a href="user-guide/getting-started.html"><span>Getting Started</span></a></li>
               <li><a href="user-guide/message-composer.html"><span>Messaging</span></a></li>
               <li><a href="user-guide/audience.html"><span>Audience</span></a></li>
               <li><a href="user-guide/reports.html"><span>Reports</span></a></li>
               <li><a href="user-guide/settings.html"><span>Settings</span></a></li>
               <li><a href="user-guide/account.html"><span>Account</span></a></li>
             </ul>
          </li>
          <li>
            <a href="#">Wallet Studio</a>
            <ul class="submenu">
              <li><a href="wallet-studio/getting-started.html"><span>Getting Started</span></a></li>
              <li><a href="wallet-studio/reference.html"><span>Reference</span></a></li>
              <li><a href="api/wallet.html"><span>API</span></a></li>
            </ul>
          </li>
          <li><a href="topic-guides/index.html">Topic Guides</a></li>
          <li><a href="reference/index.html">Reference</a></li>
          <li class="hide-on-small"><a href="whats-new/index.html">What's New</a></li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="search-wrapper">
<script>
  (function() {
    var cx = '003987891287610372151:8d55aluonec';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<style>
.gsc-control-cse {
    background: #015172;
    border: 0;
    border-left: 1px solid #015172;
}
.gsc-control-cse div {
    margin-top: 2px;
}
.gsc-input-box {
    border: 0;
    background: #015172;
}
.gsc-input input.gsc-input {
    background: #f5f5f5 !important;
    border-radius: 0; 
}
.gsc-input input.gsc-input:focus {
    background: #FFFFFF !important;
}
input.gsc-search-button-v2 {
    width: 13px;
    height: 13px;
    padding: 4px 12px;
    min-width: 13px;
    margin-top: 2px;
}
.gsc-search-box-tools .gsc-search-box .gsc-input {
    padding-right: 0;
}

.gsib_a, .gsib_b {
    padding: 0;
}

input.gsc-search-button {
    border: 0;
    background-color: #51c4cc;
}

</style>
<gcse:search></gcse:search>
  </div>
</header>
<div id="mobile-toc">
  <a id="toc-toggle">Table of Contents</a>
</div>

  <div class="content">

    
    <aside id="side-nav" class="sidebar-first">

      <!-- Local TOC -->
      <nav class="toc">
        <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Static Lists</a><ul>
<li><a class="reference internal" href="#create-list">Create List</a></li>
<li><a class="reference internal" href="#upload-list">Upload List</a></li>
<li><a class="reference internal" href="#update-list">Update List</a></li>
<li><a class="reference internal" href="#delete-list">Delete List</a></li>
<li><a class="reference internal" href="#lookup-list">Lookup List</a></li>
<li><a class="reference internal" href="#lookup-all-lists">Lookup All Lists</a></li>
</ul>
</li>
</ul>
</div>
      </nav>
        <footer>
  <div class="legal" role="contentinfo">
  	<p>
  	    &copy; Copyright 2015, Urban Airship.
  	</p>
  	<a href="http://urbanairship.com/legal/privacy-policy" target="_blank">Privacy Policy</a>
  </div>
</footer>
      
    </aside>

    <div class="main-content">

      <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Static Lists</li>
  </ul>
</div>

      
      <div role="main" class="document">
        
  <div class="section" id="static-lists">
<h1>Static Lists<a class="headerlink" href="#static-lists" title="Permalink to this headline">¶</a></h1>
<p>With the Static List endpoint, you can easily target and manage
lists of devices that are defined in your systems outside of Urban Airship.
Any list or grouping of devices for which the canonical source of data about
the members is elsewhere is a good candidate for Static Lists, e.g., members
of a customer loyalty program.
For more information, see: <a class="reference external" href="http://docs.urbanairship.com/api/ua.html#static-lists">http://docs.urbanairship.com/api/ua.html#static-lists</a></p>
<div class="section" id="create-list">
<h2>Create List<a class="headerlink" href="#create-list" title="Permalink to this headline">¶</a></h2>
<p>Creates a static list. The body of the request will contain several of the list
object parameters, but the actual list content will be provided by a second call
to the upload endpoint.</p>
<p>The create method has two optional parameters including &#8216;description,&#8217; which is a
user-provided description of the list, and &#8216;extras,&#8217; which is a dictionary of
string keys to arbitrary JSON values.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">airship</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">Airship</span><span class="p">(</span><span class="s">&#39;app_key&#39;</span><span class="p">,</span> <span class="s">&#39;master_secret&#39;</span><span class="p">)</span>
<span class="n">static_list</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">StaticList</span><span class="p">(</span><span class="n">airship</span><span class="p">,</span> <span class="s">&#39;list_name&#39;</span><span class="p">)</span>
<span class="n">static_list</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s">&#39;description&#39;</span><span class="p">,</span> <span class="s">&#39;extras&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="upload-list">
<h2>Upload List<a class="headerlink" href="#upload-list" title="Permalink to this headline">¶</a></h2>
<p>Lists target identifiers are specified or replaced with an upload to this endpoint.
Uploads must be newline delimited identifiers (text/CSV) as described in RFC 4180,
with commas as the delimiter.</p>
<p>The CSV format consists of two columns: &#8216;identifier_type&#8217; and &#8216;identifier&#8217;.
&#8216;identifier_type&#8217; must be one of &#8216;alias&#8217;, &#8216;named_user&#8217;, &#8216;ios_channel&#8217;, &#8216;android_channel&#8217;,
or &#8216;amazon_channel&#8217;. &#8216;identifier&#8217; is the associated identifier you wish to send to.</p>
<p>The maximum number of &#8216;identifier_type,identifier&#8217; pairs that may be uploaded to a list
is 10 million. The csv file is automatically gzipped before it is uploaded to the
endpoint.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">airship</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">Airship</span><span class="p">(</span><span class="s">&#39;app_key&#39;</span><span class="p">,</span> <span class="s">&#39;master_secret&#39;</span><span class="p">)</span>
<span class="n">static_list</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">StaticList</span><span class="p">(</span><span class="n">airship</span><span class="p">,</span> <span class="s">&#39;list_name&#39;</span><span class="p">)</span>
<span class="n">csv_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;rb&#39;</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">static_list</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="n">csv_file</span><span class="p">)</span>
<span class="n">csv_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="update-list">
<h2>Update List<a class="headerlink" href="#update-list" title="Permalink to this headline">¶</a></h2>
<p>Updates the metadata of a static list.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">airship</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">Airship</span><span class="p">(</span><span class="s">&#39;app_key&#39;</span><span class="p">,</span> <span class="s">&#39;master_secret&#39;</span><span class="p">)</span>
<span class="n">static_list</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">StaticList</span><span class="p">(</span><span class="n">airship</span><span class="p">,</span> <span class="s">&#39;list_name&#39;</span><span class="p">)</span>
<span class="n">static_list</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s">&#39;description&#39;</span><span class="p">,</span> <span class="s">&#39;extras&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="delete-list">
<h2>Delete List<a class="headerlink" href="#delete-list" title="Permalink to this headline">¶</a></h2>
<p>Delete a static list.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">airship</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">Airship</span><span class="p">(</span><span class="s">&#39;app_key&#39;</span><span class="p">,</span> <span class="s">&#39;master_secret&#39;</span><span class="p">)</span>
<span class="n">static_list</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">StaticList</span><span class="p">(</span><span class="n">airship</span><span class="p">,</span> <span class="s">&#39;list_name&#39;</span><span class="p">)</span>
<span class="n">static_list</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are attempting to update a current list by deleting it
and then recreating it with new data, stop and go to the upload
endpoint. There is no need to delete a list before uploading a
new CSV file. Moreover, once you delete a list, you will be unable
to create a list with the same name as the deleted list.</p>
</div>
</div>
<div class="section" id="lookup-list">
<h2>Lookup List<a class="headerlink" href="#lookup-list" title="Permalink to this headline">¶</a></h2>
<p>Retrieve information about one static list.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">airship</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">Airship</span><span class="p">(</span><span class="s">&#39;app_key&#39;</span><span class="p">,</span> <span class="s">&#39;master_secret&#39;</span><span class="p">)</span>
<span class="n">static_list</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">StaticList</span><span class="p">(</span><span class="n">airship</span><span class="p">,</span> <span class="s">&#39;list_name&#39;</span><span class="p">)</span>
<span class="n">static_list</span><span class="o">.</span><span class="n">lookup</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When looking up lists, the returned information may actually be a combination
of values from both the last uploaded list and the last successfully processed
list. If you create a list successfully, and then you update it and the
processing step fails, then the list status will read &#8220;failed&#8221;, but the
channel_count and last_modified fields will contain information on the last
successfully processed list.</p>
</div>
</div>
<div class="section" id="lookup-all-lists">
<h2>Lookup All Lists<a class="headerlink" href="#lookup-all-lists" title="Permalink to this headline">¶</a></h2>
<p>Retrieve information about all static lists. This call returns a paginated list of
metadata that will not contain the actual lists of users.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">airship</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">Airship</span><span class="p">(</span><span class="s">&#39;app_key&#39;</span><span class="p">,</span> <span class="s">&#39;master_secret&#39;</span><span class="p">)</span>
<span class="n">static_list</span> <span class="o">=</span> <span class="n">ua</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">StaticLists</span><span class="p">(</span><span class="n">airship</span><span class="p">)</span>

<span class="k">for</span> <span class="n">resp</span> <span class="ow">in</span> <span class="n">static_list</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span>
        <span class="n">resp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">resp</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">resp</span><span class="o">.</span><span class="n">extra</span><span class="p">,</span>
        <span class="n">resp</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">resp</span><span class="o">.</span><span class="n">last_modified</span><span class="p">,</span>
        <span class="n">resp</span><span class="o">.</span><span class="n">channel_count</span><span class="p">,</span>
        <span class="n">resp</span><span class="o">.</span><span class="n">status</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>


      </div>
    </div>

  </div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.4/waypoints.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.5/shortcuts/sticky-elements/waypoints-sticky.min.js"></script>
  <script type="text/javascript" src="_static/sphinxcontrib-images/Lightbox2/lightbox2/js/lightbox.min.js"></script>
  <script type="text/javascript" src="_static/js/theme.js"></script>
  <script type="text/javascript" src="_static/js/primary-nav.js"></script>
  <script type="text/javascript" src="_static/js/lazyload.js"></script>

  <script>
    var menu = new cbpHorizontalSlideOutMenu( document.getElementById( 'main-nav-wrap' ) );
  </script>
</body>
</html>